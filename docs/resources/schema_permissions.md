---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mssqlpermissions_schema_permissions Resource - terraform-provider-mssqlpermissions"
subcategory: ""
description: |-
  Schema-level permissions assigned to a database role.
---

# mssqlpermissions_schema_permissions (Resource)

Schema-level permissions assigned to a database role.

## Example Usage

```terraform
terraform {
  required_version = ">= 1.0"

  required_providers {
    mssqlpermissions = {
      source  = "WeAreRetail/mssqlpermissions"
      version = ">= 0.0.5"
    }
  }
}

# Configure the provider
provider "mssqlpermissions" {
  server_fqdn   = "localhost"
  server_port   = 1433
  database_name = "testdb"

  sql_login = {
    username = "sa"
    password = "YourStrong@Passw0rd"
  }
}

# Create a database role
resource "mssqlpermissions_database_role" "example_role" {
  name = "schema_permissions_example_role"
}

# Grant SELECT permission on dbo schema to the role
resource "mssqlpermissions_schema_permissions" "dbo_select" {
  schema_name = "dbo"
  role_name   = mssqlpermissions_database_role.example_role.name

  permissions = [
    {
      permission_name = "SELECT"
      state           = "G"
    }
  ]
}

# Grant multiple permissions on a custom schema
resource "mssqlpermissions_schema_permissions" "sales_permissions" {
  schema_name = "sales"
  role_name   = mssqlpermissions_database_role.example_role.name

  permissions = [
    {
      permission_name = "SELECT"
      state           = "G"
    },
    {
      permission_name = "INSERT"
      state           = "G"
    },
    {
      permission_name = "UPDATE"
      state           = "G"
    }
  ]
}

# Deny DELETE permission on a sensitive schema
resource "mssqlpermissions_schema_permissions" "sensitive_deny" {
  schema_name = "audit"
  role_name   = mssqlpermissions_database_role.example_role.name

  permissions = [
    {
      permission_name = "SELECT"
      state           = "G" # Allow reading audit data
    },
    {
      permission_name = "DELETE"
      state           = "D" # Explicitly deny deletion
    },
    {
      permission_name = "UPDATE"
      state           = "D" # Explicitly deny updates
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `permissions` (Attributes List) A list of permissions on the schema. (see [below for nested schema](#nestedatt--permissions))
- `role_name` (String) The database role's name.
- `schema_name` (String) The schema name.

<a id="nestedatt--permissions"></a>
### Nested Schema for `permissions`

Required:

- `permission_name` (String) Permission name.

Optional:

- `state` (String) Permission state (G=GRANT, D=DENY).

Read-Only:

- `class` (String) Permission class.
- `class_desc` (String) Permission class description.
- `grantee_principal_id` (Number) Permission Grantee Principal ID.
- `grantor_principal_id` (Number) Permission Grantor Principal ID.
- `major_id` (Number) Permission Major ID.
- `minor_id` (Number) Permission Minor ID.
- `state_desc` (String) Permission state description.
- `type` (String) Permission type.
