USE master
GO
IF NOT EXISTS(SELECT * FROM sys.databases WHERE name = 'ApplicationDB')
  BEGIN
    CREATE DATABASE [ApplicationDB]
  END
GO
EXEC sp_configure 'CONTAINED DATABASE AUTHENTICATION', 1
GO
RECONFIGURE
GO
ALTER DATABASE ApplicationDB SET containment=PARTIAL
GO
CREATE LOGIN [the-admin] WITH PASSWORD=N'P@ssw0rd', DEFAULT_DATABASE=[master], CHECK_EXPIRATION=OFF, CHECK_POLICY=OFF
CREATE LOGIN [loginFixtureOne] WITH PASSWORD=N'P@ssw0rd', DEFAULT_DATABASE=[master], CHECK_EXPIRATION=OFF, CHECK_POLICY=OFF
CREATE LOGIN [loginFixtureTwo] WITH PASSWORD=N'P@ssw0rd', DEFAULT_DATABASE=[master], CHECK_EXPIRATION=OFF, CHECK_POLICY=OFF
GO
USE ApplicationDB
GO
CREATE USER [userFixtureOne] WITH PASSWORD=N'P@ssw0rd', DEFAULT_SCHEMA=[dbo]
GO
CREATE USER [userFixtureTwo] WITH PASSWORD=N'P@ssw0rd', DEFAULT_SCHEMA=[dbo]
GO
